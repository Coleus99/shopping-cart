(this["webpackJsonpshopping-cart"]=this["webpackJsonpshopping-cart"]||[]).push([[0],{52:function(e,t,c){"use strict";c.r(t);var a=c(3),n=c(0),s=c.n(n),i=c(17),r=c.n(i),j=c(19),d=c(16),o=c(12),l=c(6),p=c(35),b=c(22),u=function(e){return Object(a.jsx)("div",{children:Object(a.jsx)(p.a,{className:"pt-5 mt-5",children:Object(a.jsx)(b.a,{children:Object(a.jsx)("h1",{children:e.title})})})})},h=c(54),O=function(){return Object(a.jsxs)("div",{children:[Object(a.jsx)(u,{title:"Welcome to the Magic the Gathering Card Store"}),Object(a.jsxs)(b.a,{children:[Object(a.jsx)("p",{children:"A collection of rare Magic the Gathering cards for you to purchase."}),Object(a.jsx)(h.a,{as:o.b,to:"/shop",children:"Shop Now"})]})]})},x=c(59),m=c(55),f=c(58),g=function(e){var t=Object(n.useState)("cart"===e.type?e.details.inBasket:1),c=Object(d.a)(t,2),s=c[0],i=c[1],r=Object(n.useState)(0),j=Object(d.a)(r,2),o=j[0],l=j[1],p="shop"===e.type?"d-none":"",b="cart"===e.type?"d-none":"";return Object(n.useEffect)((function(){l(s*e.details.price)}),[s]),Object(a.jsxs)(x.a,{className:"mb-2",children:[Object(a.jsx)(x.a.Img,{className:b,variant:"top",src:e.details.imageUrl}),Object(a.jsxs)(x.a.Body,{children:[Object(a.jsxs)(x.a.Title,{className:"d-flex justify-content-between",children:[e.details.name,Object(a.jsxs)("span",{class:p,children:["$",s*e.details.price]})]}),Object(a.jsx)(x.a.Text,{className:b,children:Object(a.jsxs)("ul",{className:"pl-0",style:{listStyleType:"none"},children:[Object(a.jsxs)("li",{children:["Type: ",e.details.type]}),Object(a.jsxs)("li",{children:["Power: ",e.details.power]}),Object(a.jsxs)("li",{children:["Price: $",e.details.price]})]})}),Object(a.jsxs)(m.a,{children:[Object(a.jsx)(f.a.Control,{type:"number",min:"0",value:s,onChange:function(e){return i(e.target.value)}}),Object(a.jsxs)(m.a.Append,{children:[Object(a.jsx)(h.a,{id:e.details.id,variant:"primary",size:"sm",onClick:function(t){return e.updateCart(t.target.id,s,o)},children:"cart"===e.type?"Update":"Add to Cart"}),Object(a.jsx)(h.a,{id:e.details.id,className:p,variant:"danger",size:"sm",onClick:function(t){return e.updateCart(t.target.id,0,0)},children:"Remove"})]})]})]})]})},y=c(37),C=c(56),v=function(e){var t="Loading...";return e.products&&(t=e.products.map((function(t,c){return Object(a.jsx)(y.a,{lg:3,sm:4,xs:6,children:Object(a.jsx)(g,{details:t,updateCart:e.addToCart,type:"shop"})},c)}))),Object(a.jsxs)("div",{children:[Object(a.jsx)(u,{title:"Welcome to my Shop Page"}),Object(a.jsx)(b.a,{children:Object(a.jsx)(C.a,{children:t})})]})},S=function(e){console.log(e);var t="Your basket is empty!";return e.products&&(t=e.products.map((function(t,c){if(t.inBasket>0)return Object(a.jsx)(y.a,{sm:12,children:Object(a.jsx)(g,{details:t,updateCart:e.amendCart,type:"cart"})},c)}))),Object(a.jsxs)("div",{children:[Object(a.jsx)(u,{title:"Your Shopping Cart"}),Object(a.jsxs)(b.a,{children:[Object(a.jsx)(C.a,{children:t}),Object(a.jsx)(C.a,{children:Object(a.jsxs)(y.a,{className:"d-flex justify-content-between",children:[Object(a.jsx)("h2",{children:"Total:"}),Object(a.jsx)("h3",{children:e.total.itemSpend})]})})]})]})},k=c(33),B=c(18),N=c(57),w=function(e){return Object(a.jsx)(k.a,{fixed:"top",bg:"light",variant:"light",children:Object(a.jsxs)(b.a,{children:[Object(a.jsx)(k.a.Brand,{as:o.c,to:"/",children:"MTG CardStore"}),Object(a.jsxs)(B.a,{className:"mr-auto",children:[Object(a.jsx)(B.a.Link,{as:o.c,to:"/",exact:!0,activeClassName:"disabled",children:"Home"}),Object(a.jsx)(B.a.Link,{as:o.c,to:"/shop",activeClassName:"disabled",children:"Shop"})]}),Object(a.jsx)(B.a,{children:Object(a.jsxs)(B.a.Link,{as:o.c,to:"/cart",activeClassName:"disabled",children:["Cart",Object(a.jsx)("sup",{children:Object(a.jsx)(N.a,{pill:!0,variant:"light",children:e.cartCount})})]})})]})})},T=function(){var e=Object(n.useState)(null),t=Object(d.a)(e,2),c=t[0],s=t[1],i=Object(n.useState)(0),r=Object(d.a)(i,2),p=r[0],b=r[1],u=Object(n.useState)(0),h=Object(d.a)(u,2),x=h[0],m=h[1];Object(n.useEffect)((function(){fetch("https://api.scryfall.com/cards/search?q=cmc%3D10",{mode:"cors"}).then((function(e){return e.json()})).then((function(e){console.log(e),s(e.data.map((function(e){return{id:e.id,name:e.name,imageUrl:e.image_uris.border_crop,imageCrop:e.image_uris.art_crop,price:e.prices.usd,inBasket:0,itemSpend:0,power:e.power,type:e.type_line}})))}))}),[]),Object(n.useEffect)((function(){if(c){var e=c.reduce((function(e,t){return{inBasket:parseInt(e.inBasket)+parseInt(t.inBasket)}}));console.log("cart count: ".concat(e.inBasket)),b(e.inBasket);var t=c.reduce((function(e,t){return{itemSpend:e.itemSpend+t.itemSpend}}));console.log("cart Total price: ".concat(t.itemSpend)),m(t)}}),[c]);return Object(a.jsxs)(o.a,{children:[Object(a.jsx)(w,{cartCount:p}),Object(a.jsxs)(l.c,{children:[Object(a.jsx)(l.a,{exact:!0,path:"/",component:O}),Object(a.jsx)(l.a,{exact:!0,path:"/shop",children:Object(a.jsx)(v,{products:c,addToCart:function(e,t,a){console.log("spend: ".concat(a)),s(c.map((function(c){return c.id===e?Object(j.a)(Object(j.a)({},c),{},{inBasket:parseInt(c.inBasket)+parseInt(t),itemSpend:c.itemSpend+a}):c})))}})}),Object(a.jsx)(l.a,{exact:!0,path:"/cart",component:S,children:Object(a.jsx)(S,{products:c,total:x,amendCart:function(e,t,a){s(c.map((function(c){return c.id===e?Object(j.a)(Object(j.a)({},c),{},{inBasket:t,itemSpend:a}):c})))}})})]})]})};c(51);r.a.render(Object(a.jsx)(s.a.StrictMode,{children:Object(a.jsx)(T,{})}),document.getElementById("root"))}},[[52,1,2]]]);
//# sourceMappingURL=main.19714f29.chunk.js.map